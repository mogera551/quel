/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/bindInfo/BindInfo.js":
/*!**********************************!*\
  !*** ./src/bindInfo/BindInfo.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BindInfo)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n\r\n\r\n\r\n\r\nclass BindInfo {\r\n  /**\r\n   * @type {Node}\r\n   */\r\n  node;\r\n  /**\r\n   * @type {HTMLElement}\r\n   */\r\n  get element() {\r\n    return (this.node instanceof HTMLElement) ? this.node : _utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].raise(\"not HTMLElement\");\r\n  }\r\n  /**\r\n   * @type {string}\r\n   */\r\n  nodeProperty;\r\n  /**\r\n   * @type {string[]}\r\n   */\r\n  #nodePropertyElements;\r\n  get nodePropertyElements() {\r\n    return this.#nodePropertyElements;\r\n  }\r\n  set nodePropertyElements(value) {\r\n    this.#nodePropertyElements = value;\r\n  }\r\n\r\n  /**\r\n   * @type {ViewModel}\r\n   */\r\n  viewModel;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  viewModelProperty;\r\n  /**\r\n   * @type {Filter[]}\r\n   */\r\n  filters;\r\n  /**\r\n   * @type {string[]}\r\n   */\r\n  #indexes;\r\n  #indexesString;\r\n  get indexes() {\r\n    return this.#indexes;\r\n  }\r\n  set indexes(value) {\r\n    this.#indexes = value;\r\n    this.#indexesString = value.toString();\r\n    this.#viewModelPropertyKey = `${this.viewModelProperty}\\t${this.#indexesString}`;\r\n  }\r\n  get indexesString() {\r\n    return this.#indexesString;\r\n  }\r\n  #viewModelPropertyKey;\r\n  get viewModelPropertyKey() {\r\n    return this.#viewModelPropertyKey;\r\n  }\r\n  \r\n  /**\r\n   * @type {any}\r\n   */\r\n  lastNodeValue;\r\n  /**\r\n   * @type\r\n   */\r\n  lastViewModelValue;\r\n\r\n  /**\r\n   * Nodeのプロパティを更新する\r\n   */\r\n  updateNode() {}\r\n\r\n  /**\r\n   * ViewModelのプロパティを更新する\r\n   */\r\n  updateViewModel() {}\r\n\r\n  /**\r\n   * \r\n   * @param {integer} index \r\n   * @param {integer} diff \r\n   */\r\n  changeIndexes(index, diff) {\r\n    const indexes = this.indexes.slice();\r\n    indexes[index] = (parseInt(indexes[index]) + diff).toString();\r\n    this.indexes = indexes;\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/BindInfo.js?");

/***/ }),

/***/ "./src/bindInfo/Checkbox.js":
/*!**********************************!*\
  !*** ./src/bindInfo/Checkbox.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Checkbox)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n\r\n\r\n\r\n\r\n\r\nconst toHTMLInputElement = node => (node instanceof HTMLInputElement) ? node : _utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].raise();\r\n\r\nclass Checkbox extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const checkbox = toHTMLInputElement(node);\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.lastViewModelValue !== value) {\r\n      Thread.current.addNodeUpdate(new NodeUpdateData(node, nodeProperty, () => {\r\n        checkbox.checked = value.find(value => value === checkbox.value);\r\n      }));\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n\r\n  updateViewModel() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = bind;\r\n    const checkbox = toHTMLInputElement(node);\r\n    const checkboxValue = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForInput(checkbox.value, filters);\r\n    const setOfValue = new Set(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes));\r\n    (checkbox.checked) ? setOfValue.add(checkboxValue) : setOfValue.delete(checkboxValue);\r\n    const value = Array.from(setOfValue);\r\n    viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_SET](viewModelProperty, indexes, value);\r\n    this.lastViewModelValue = value;\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Checkbox.js?");

/***/ }),

/***/ "./src/bindInfo/ClassName.js":
/*!***********************************!*\
  !*** ./src/bindInfo/ClassName.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ClassName)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n/* harmony import */ var _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../thread/NodeUpdator.js */ \"./src/thread/NodeUpdator.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns {HTMLElement}\r\n */\r\nconst toHTMLElement = node => (node instanceof HTMLElement) ? node : utils.raise(`not HTMLElement`);\r\n\r\nclass ClassName extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  get className() {\r\n    return this.nodePropertyElements[1];\r\n  }\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters, className} = this;\r\n    const element = toHTMLElement(node);\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.lastViewModelValue !== value) {\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].current.addNodeUpdate(new _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_4__.NodeUpdateData(node, nodeProperty, () => {\r\n        value ? element.classList.add(className) : element.classList.remove(className);\r\n      }));\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n\r\n  updateViewModel() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters, className} = this;\r\n    const element = toHTMLElement(node);\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForInput(element.classList.contains(className), filters);\r\n    viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_SET](viewModelProperty, indexes, value);\r\n    this.lastViewModelValue = value;\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/ClassName.js?");

/***/ }),

/***/ "./src/bindInfo/Event.js":
/*!*******************************!*\
  !*** ./src/bindInfo/Event.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Event)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _thread_Processor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../thread/Processor.js */ \"./src/thread/Processor.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n\r\n\r\n\r\n\r\n\r\nclass Event extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  #eventType;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  get eventType() {\r\n    return this.#eventType;\r\n  }\r\n  set eventType(value) {\r\n    this.#eventType = value;\r\n  }\r\n  /**\r\n   * \r\n   */\r\n  addEventListener() {\r\n    const {element, eventType, viewModel, viewModelProperty} = this;\r\n    element.addEventListener(eventType, (event) => {\r\n      const indexes = this.indexes;\r\n      const process = new _thread_Processor_js__WEBPACK_IMPORTED_MODULE_2__.ProcessData(\r\n        viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_CALL], viewModel, [viewModelProperty, indexes, event]\r\n      );\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].current.addProcess(process);\r\n      //viewModel[SYM_CALL_DIRECT_CALL](viewModelProperty, indexes, event);\r\n\r\n    });\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Event.js?");

/***/ }),

/***/ "./src/bindInfo/Factory.js":
/*!*********************************!*\
  !*** ./src/bindInfo/Factory.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Factory)\n/* harmony export */ });\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node/PropertyType.js */ \"./src/node/PropertyType.js\");\n/* harmony import */ var _LevelTop_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LevelTop.js */ \"./src/bindInfo/LevelTop.js\");\n/* harmony import */ var _Level2nd_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Level2nd.js */ \"./src/bindInfo/Level2nd.js\");\n/* harmony import */ var _Level3rd_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Level3rd.js */ \"./src/bindInfo/Level3rd.js\");\n/* harmony import */ var _ClassName_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ClassName.js */ \"./src/bindInfo/ClassName.js\");\n/* harmony import */ var _Radio_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Radio.js */ \"./src/bindInfo/Radio.js\");\n/* harmony import */ var _Checkbox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Checkbox.js */ \"./src/bindInfo/Checkbox.js\");\n/* harmony import */ var _Template_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Template.js */ \"./src/bindInfo/Template.js\");\n/* harmony import */ var _Event_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Event.js */ \"./src/bindInfo/Event.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst createLevelTop = (bindInfo, info) => Object.assign(new _LevelTop_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"], bindInfo, info);\r\nconst createLevel2nd = (bindInfo, info) => Object.assign(new _Level2nd_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], bindInfo, info);\r\nconst createLevel3rd = (bindInfo, info) => Object.assign(new _Level3rd_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], bindInfo, info);\r\nconst createClassName = (bindInfo, info) => Object.assign(new _ClassName_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"], bindInfo, info);\r\nconst createRadio = (bindInfo, info) => Object.assign(new _Radio_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"], bindInfo, info);\r\nconst createCheckbox = (bindInfo, info) => Object.assign(new _Checkbox_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"], bindInfo, info);\r\nconst createTemplate = (bindInfo, info) => Object.assign(new _Template_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"], bindInfo, info);\r\nconst createEvent = (bindInfo, info) => Object.assign(new _Event_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"], bindInfo, info);\r\n\r\nconst creatorByType = new Map();\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.levelTop, createLevelTop);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.level2nd, createLevel2nd);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.level3rd, createLevel3rd);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.className, createClassName);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.radio, createRadio);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.checkbox, createCheckbox);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.template, createTemplate);\r\ncreatorByType.set(_node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__.NodePropertyType.event, createEvent);\r\n\r\nclass Factory {\r\n  /**\r\n   * \r\n   * @param {{\r\n   * node:Node,\r\n   * nodeProperty:string,\r\n   * viewModel:ViewModel,\r\n   * viewModelProperty:string,\r\n   * filters:Filter[],\r\n   * indexes:integer[]\r\n   * }}  \r\n   */\r\n  static create({node, nodeProperty, viewModel, viewModelProperty, filters, indexes}) {\r\n    const bindInfo = {node, nodeProperty, viewModel, viewModelProperty, filters, indexes};\r\n    const info = _node_PropertyType_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getInfo(node, nodeProperty);\r\n    return creatorByType.get(info.type)(bindInfo, info);\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Factory.js?");

/***/ }),

/***/ "./src/bindInfo/Level2nd.js":
/*!**********************************!*\
  !*** ./src/bindInfo/Level2nd.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Level2nd)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../thread/NodeUpdator.js */ \"./src/thread/NodeUpdator.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Level2nd extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  get nodeProperty1() {\r\n    return this.nodePropertyElements[0];\r\n  }\r\n  get nodeProperty2() {\r\n    return this.nodePropertyElements[1];\r\n  }\r\n\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const {nodeProperty1, nodeProperty2} = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.lastViewModelValue !== value) {\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].current.addNodeUpdate(new _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_3__.NodeUpdateData(node, nodeProperty, () => {\r\n        node[nodeProperty1][nodeProperty2] = value;\r\n      }));\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n\r\n  updateViewModel() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const {nodeProperty1, nodeProperty2} = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForInput(node[nodeProperty1][nodeProperty2], filters);\r\n    viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_SET](viewModelProperty, indexes, value);\r\n    this.lastViewModelValue = value;\r\n  }\r\n\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Level2nd.js?");

/***/ }),

/***/ "./src/bindInfo/Level3rd.js":
/*!**********************************!*\
  !*** ./src/bindInfo/Level3rd.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Level3rd)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../thread/NodeUpdator.js */ \"./src/thread/NodeUpdator.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Level3rd extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  get nodeProperty1() {\r\n    return this.nodePropertyElements[0];\r\n  }\r\n  get nodeProperty2() {\r\n    return this.nodePropertyElements[1];\r\n  }\r\n  get nodeProperty3() {\r\n    return this.nodePropertyElements[2];\r\n  }\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const { nodeProperty1, nodeProperty2, nodeProperty3 } = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.lastViewModelValue !== value) {\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].current.addNodeUpdate(new _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_3__.NodeUpdateData(node, nodeProperty, () => {\r\n        node[nodeProperty1][nodeProperty2][nodeProperty3] = value;\r\n      }));\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n\r\n  updateViewModel() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const { nodeProperty1, nodeProperty2, nodeProperty3 } = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForInput(node[nodeProperty1][nodeProperty2][nodeProperty3], filters);\r\n    viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_SET](viewModelProperty, indexes, value);\r\n    this.lastViewModelValue = value;\r\n  }\r\n\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Level3rd.js?");

/***/ }),

/***/ "./src/bindInfo/LevelTop.js":
/*!**********************************!*\
  !*** ./src/bindInfo/LevelTop.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LevelTop)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../thread/NodeUpdator.js */ \"./src/thread/NodeUpdator.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass LevelTop extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.lastViewModelValue !== value) {\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].current.addNodeUpdate(new _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_3__.NodeUpdateData(node, nodeProperty, () => {\r\n        node[nodeProperty] = value;\r\n      }));\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n\r\n  updateViewModel() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForInput(node[nodeProperty], filters);\r\n    viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_SET](viewModelProperty, indexes, value);\r\n    this.lastViewModelValue = value;\r\n  }\r\n\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/LevelTop.js?");

/***/ }),

/***/ "./src/bindInfo/Radio.js":
/*!*******************************!*\
  !*** ./src/bindInfo/Radio.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Radio)\n/* harmony export */ });\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../thread/NodeUpdator.js */ \"./src/thread/NodeUpdator.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst toHTMLInputElement = node => (node instanceof HTMLInputElement) ? node : _utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].raise();\r\n\r\nclass Radio extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const radio = toHTMLInputElement(node);\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.lastViewModelValue !== value) {\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].current.addNodeUpdate(new _thread_NodeUpdator_js__WEBPACK_IMPORTED_MODULE_4__.NodeUpdateData(node, nodeProperty, () => {\r\n        radio.checked = value === radio.value;\r\n      }));\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n\r\n  updateViewModel() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const radio = toHTMLInputElement(node);\r\n    const radioValue = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].applyForInput(radio.value, filters);\r\n    if (radio.checked) {\r\n      viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_2__.SYM_CALL_DIRECT_SET](viewModelProperty, indexes, radioValue);\r\n      this.lastViewModelValue = radioValue;\r\n    }\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Radio.js?");

/***/ }),

/***/ "./src/bindInfo/Template.js":
/*!**********************************!*\
  !*** ./src/bindInfo/Template.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TemplateChild\": () => (/* binding */ TemplateChild),\n/* harmony export */   \"default\": () => (/* binding */ Template)\n/* harmony export */ });\n/* harmony import */ var _bind_Binder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bind/Binder.js */ \"./src/bind/Binder.js\");\n/* harmony import */ var _bind_BindToTemplate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bind/BindToTemplate.js */ \"./src/bind/BindToTemplate.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _BindInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass TemplateChild {\r\n  /**\r\n   * @type {BindInfo[]}\r\n   */\r\n  binds;\r\n  /**\r\n   * @type {Node[]}\r\n   */\r\n  childNodes;\r\n  /**\r\n   * @type {Node}\r\n   */\r\n  get lastNode() {\r\n    return this.childNodes[this.childNodes.length - 1];\r\n  }\r\n\r\n  removeFromParent() {\r\n    this.childNodes.forEach(node => node.parentNode.removeChild(node));\r\n  }\r\n\r\n  expand() {\r\n    this.binds.forEach(bind => {\r\n      if (bind instanceof Template) {\r\n        bind.expand();\r\n      }\r\n    })\r\n  }\r\n\r\n  changeIndex(index, diff) {\r\n    this.binds.forEach(bind => bind.changeIndexes(index, diff));\r\n  }\r\n  /**\r\n   * \r\n   * @param {Template} templateBind \r\n   * @param {integer} index \r\n   */\r\n  static create(templateBind, indexes) {\r\n    const {template, viewModel} = templateBind;\r\n    const rootElement = document.importNode(template.content, true);\r\n    const binds = _bind_Binder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bind(template, rootElement, viewModel, indexes);\r\n    const childNodes = Array.from(rootElement.childNodes);\r\n    return Object.assign(new TemplateChild, { binds, childNodes });\r\n  }\r\n}\r\n\r\nclass Template extends _BindInfo_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\r\n  /**\r\n   * @type {TemplateChild[]}\r\n   */\r\n  templateChildren = [];\r\n  /**\r\n   * @type {HTMLTemplateElement}\r\n   */\r\n  get template() {\r\n    return (this.node instanceof HTMLTemplateElement) ? this.node : utils.raise(\"not HTMLTemplateElement\");\r\n  }\r\n\r\n  updateNode() {\r\n    const {node, nodeProperty, viewModel, viewModelProperty, indexes, filters} = this;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_3__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (this.nodeProperty === \"loop\") {\r\n      this.lastViewModelValue = (value ?? []).slice();\r\n    } else {\r\n      this.lastViewModelValue = value;\r\n    }\r\n  }\r\n  /**\r\n   * \r\n   */\r\n  removeFromParent() {\r\n    const nodes = this.templateChildren.flatMap(child => child.childNodes);\r\n    if (nodes.length > 0) {\r\n      const oldParentNode = nodes[0].parentNode;\r\n      const newParentNode = oldParentNode.cloneNode(false);\r\n      oldParentNode.parentNode.replaceChild(newParentNode, oldParentNode)\r\n      nodes.forEach(node => node.parentNode.removeChild(node));\r\n      newParentNode.parentNode.replaceChild(oldParentNode, newParentNode);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  appendToParent() {\r\n    const fragment = document.createDocumentFragment();\r\n    this.templateChildren\r\n      .flatMap(child => child.childNodes)\r\n      .forEach(node => fragment.appendChild(node));\r\n    this.template.after(fragment);\r\n  }\r\n\r\n  expand() {\r\n    if (this.nodeProperty === \"loop\") {\r\n      this.expandLoop();\r\n    } else {\r\n      this.expandIf();\r\n    }\r\n  }\r\n\r\n  expandIf() {\r\n    this.removeFromParent();\r\n    this.templateChildren = _bind_BindToTemplate_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].expand(bind);\r\n    this.appendToParent();\r\n  }\r\n\r\n  expandLoop() {\r\n    const { viewModel, viewModelProperty, indexes, filters } = this;\r\n    const lastValue = this.lastViewModelValue;\r\n    const value = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_3__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n\r\n    const setOfLastValues = new Set(lastValue.values());\r\n    const indexesByLastValue = new Map(Array.from(setOfLastValues).map(value => [ value, [] ]));\r\n    lastValue.forEach((value, index) => indexesByLastValue.get(value).push(index));\r\n    const lastIndexByNewIndex = new Map;\r\n    const newTemplateChildren = value.map((value, index) => {\r\n      const lastIndexes = indexesByLastValue.get(value) ?? [];\r\n      if (lastIndexes.length === 0) {\r\n        lastIndexByNewIndex.set(index, undefined);\r\n        return TemplateChild.create(this, indexes.concat(index));\r\n      } else {\r\n        const lastIndex = parseInt(lastIndexes.shift());\r\n        lastIndexByNewIndex.set(index, lastIndex);\r\n        const templateChild = this.templateChildren[lastIndex];\r\n        templateChild.changeIndex(indexes.length, index - lastIndex);\r\n        return templateChild;\r\n      }\r\n    });\r\n    Array.from(indexesByLastValue.values()).flatMap(indexes => indexes).forEach(deleteIndex => {\r\n      this.templateChildren[deleteIndex].removeFromParent();\r\n    });\r\n    newTemplateChildren.reduce((prevChild, templateChild, index) => {\r\n      const prevLastIndex = lastIndexByNewIndex.get(index - 1);\r\n      const lastIndex = lastIndexByNewIndex.get(index);\r\n      if (typeof prevLastIndex === \"undefined\" || typeof lastIndex === \"undefined\" || prevLastIndex > lastIndex) {\r\n        (prevChild?.lastNode ?? this.template).after(...templateChild.childNodes);\r\n      }\r\n      return templateChild;\r\n    }, undefined);\r\n    newTemplateChildren.forEach(templateChild => templateChild.expand());\r\n    this.templateChildren = newTemplateChildren;\r\n  }\r\n  /**\r\n   * \r\n   * @param {integer} index \r\n   * @param {integer} diff \r\n   */\r\n  changeIndexes(index, diff) {\r\n    this.indexes[index] = (parseInt(this.indexes[index]) + diff).toString();\r\n    this.templateChildren.forEach(templateChild => {\r\n      templateChild.binds.forEach(bind => bind.changeIndexes(index, diff));\r\n    });\r\n  }\r\n}\n\n//# sourceURL=webpack://quel/./src/bindInfo/Template.js?");

/***/ }),

/***/ "./src/bind/BindToDomIf.js":
/*!*********************************!*\
  !*** ./src/bind/BindToDomIf.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _bindInfo_BindInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bindInfo/BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * \r\n   * @param {Node} node\r\n   * @param {ViewModel} viewModel\r\n   * @param {string[]} indexes\r\n   * @returns {BindInfo[]} \r\n   */\r\n  static bind(node, viewModel, indexes) {\r\n    console.error(\"need to override\");\r\n  }\r\n}); \n\n//# sourceURL=webpack://quel/./src/bind/BindToDomIf.js?");

/***/ }),

/***/ "./src/bind/BindToElement.js":
/*!***********************************!*\
  !*** ./src/bind/BindToElement.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _BindToDomIf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BindToDomIf.js */ \"./src/bind/BindToDomIf.js\");\n/* harmony import */ var _bindInfo_BindInfo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bindInfo/BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Parser.js */ \"./src/bind/Parser.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n/* harmony import */ var _thread_Processor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../thread/Processor.js */ \"./src/thread/Processor.js\");\n/* harmony import */ var _bindInfo_Event_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../bindInfo/Event.js */ \"./src/bindInfo/Event.js\");\n/* harmony import */ var _bindInfo_Factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../bindInfo/Factory.js */ \"./src/bindInfo/Factory.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst DATASET_BIND_PROPERTY = \"bind\";\r\nconst DEFAULT_EVENT = \"oninput\";\r\nconst DEFAULT_EVENT_TYPE = DEFAULT_EVENT.slice(2);\r\nconst DEFAULT_PROPERTY = \"textContent\";\r\n\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns {HTMLElement}\r\n */\r\nconst toHTMLElement = node => (node instanceof HTMLElement) ? node : _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].raise(`not HTMLElement`);\r\n\r\n/**\r\n * \r\n * @param {HTMLElement} element \r\n */\r\nconst getDefaultProperty = element => {\r\n  return element instanceof HTMLSelectElement || element instanceof HTMLTextAreaElement || element instanceof HTMLOptionElement ? \"value\" : \r\n  element instanceof HTMLInputElement ? ((element.type === \"radio\" || element.type === \"checkbox\") ? \"checked\" : \"value\") : \r\n  DEFAULT_PROPERTY;\r\n};\r\n\r\nconst toEvent = bind => (bind instanceof _bindInfo_Event_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]) ? bind : undefined; \r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class extends _BindToDomIf_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  /**\r\n   * \r\n   * @param {Node} node \r\n   * @param {ViewModel} viewModel\r\n   * @param {string[]} indexes\r\n   * @returns {BindInfo[]}\r\n   */\r\n  static bind(node, viewModel, indexes) {\r\n    const element = toHTMLElement(node);\r\n    const bindText = element.dataset[DATASET_BIND_PROPERTY];\r\n    const defaultName = getDefaultProperty(element);\r\n\r\n    // パース\r\n    const binds = _Parser_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].parse(bindText, defaultName)\r\n        .map(info => {\r\n          const bind = _bindInfo_Factory_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].create(Object.assign(info, {node, viewModel, indexes}));\r\n          bind.updateNode();\r\n          return bind;\r\n        });\r\n\r\n    // イベントハンドラ設定\r\n    let hasDefaultEvent = false;\r\n    /**\r\n     * @type {BindInfo}\r\n     */\r\n    let defaultBind = null;\r\n    binds.forEach(bind => {\r\n      hasDefaultEvent ||= bind.nodeProperty === DEFAULT_EVENT;\r\n      defaultBind = (bind.nodeProperty === defaultName) ? bind : defaultBind;\r\n      const event = toEvent(bind);\r\n      event && event.addEventListener();\r\n    });\r\n\r\n    if (defaultBind && !hasDefaultEvent) {\r\n      element.addEventListener(DEFAULT_EVENT_TYPE, (event) => {\r\n        const process = new _thread_Processor_js__WEBPACK_IMPORTED_MODULE_6__.ProcessData(defaultBind.updateViewModel, defaultBind, []);\r\n        _thread_Thread_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].current.addProcess(process);\r\n      });\r\n    }\r\n\r\n    return binds;\r\n  }\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/bind/BindToElement.js?");

/***/ }),

/***/ "./src/bind/BindToTemplate.js":
/*!************************************!*\
  !*** ./src/bind/BindToTemplate.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _BindToDomIf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BindToDomIf.js */ \"./src/bind/BindToDomIf.js\");\n/* harmony import */ var _bindInfo_BindInfo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bindInfo/BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _bindInfo_Template_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../bindInfo/Template.js */ \"./src/bindInfo/Template.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _Binder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Binder.js */ \"./src/bind/Binder.js\");\n/* harmony import */ var _Parser_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Parser.js */ \"./src/bind/Parser.js\");\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _bindInfo_Factory_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../bindInfo/Factory.js */ \"./src/bindInfo/Factory.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst DATASET_BIND_PROPERTY = \"bind\";\r\n\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns {HTMLTemplateElement}\r\n */\r\nconst toHTMLTemplateElement = node => (node instanceof HTMLTemplateElement) ? node : _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].raise(\"not HTMLTemplateElement\");\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class extends _BindToDomIf_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  /**\r\n   * \r\n   * @param {Node} node \r\n   * @param {ViewModel} viewModel\r\n   * @param {string[]} indexes\r\n   * @returns {BindInfo[]}\r\n   */\r\n  static bind(node, viewModel, indexes) {\r\n    const template = toHTMLTemplateElement(node);\r\n    const bindText = template.dataset[DATASET_BIND_PROPERTY];\r\n    const binds = _Parser_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].parse(bindText, \"\")\r\n      .map(info => { \r\n        const bind = _bindInfo_Factory_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].create(Object.assign(info, {node, viewModel, indexes}));\r\n        bind.updateNode();\r\n        return bind;\r\n      });\r\n    if (binds.length === 0) return [];\r\n    const bind = binds[0];\r\n    if (bind.nodeProperty !== \"if\" && bind.nodeProperty !== \"loop\") {\r\n      _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].raise(`unknown node property ${bind.nodeProperty}`);\r\n    }\r\n    bind.templateChildren = this.expand(bind);\r\n    bind.appendToParent();\r\n    return [ bind ];\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {BindInfo} bind \r\n   * @returns {TemplateChild[]}\r\n   */\r\n  static expand(bind) {\r\n    const { nodeProperty, viewModel, viewModelProperty, filters, indexes } = bind;\r\n\r\n    const viewModelValue = _filter_Filter_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].applyForOutput(viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_8__.SYM_CALL_DIRECT_GET](viewModelProperty, indexes), filters);\r\n    if (nodeProperty === \"if\") {\r\n      if (viewModelValue) {\r\n        return [ _bindInfo_Template_js__WEBPACK_IMPORTED_MODULE_3__.TemplateChild.create(bind, indexes) ];\r\n      }\r\n    } else if (nodeProperty === \"loop\") {\r\n      return Array.from(Object.keys(viewModelValue)).map(index => _bindInfo_Template_js__WEBPACK_IMPORTED_MODULE_3__.TemplateChild.create(bind, indexes.concat(index)));\r\n    }\r\n    return [];\r\n  }\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/bind/BindToTemplate.js?");

/***/ }),

/***/ "./src/bind/BindToText.js":
/*!********************************!*\
  !*** ./src/bind/BindToText.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _BindToDomIf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BindToDomIf.js */ \"./src/bind/BindToDomIf.js\");\n/* harmony import */ var _bindInfo_BindInfo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bindInfo/BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Parser.js */ \"./src/bind/Parser.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n/* harmony import */ var _bindInfo_Factory_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../bindInfo/Factory.js */ \"./src/bindInfo/Factory.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst DEFAULT_PROPERTY = \"textContent\";\r\n\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns {Comment}\r\n */\r\nconst toComment = node => (node instanceof Comment) ? node : _utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].raise(\"not Comment\");\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class extends _BindToDomIf_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  /**\r\n   * \r\n   * @param {Node} node \r\n   * @param {ViewModel} viewModel\r\n   * @param {string[]} indexes\r\n   * @returns {BindInfo[]}\r\n   */\r\n  static bind(node, viewModel, indexes) {\r\n    // コメントノードをテキストノードに差し替える\r\n    const comment = toComment(node);\r\n    const bindText = comment.textContent.slice(2); // @@をスキップ\r\n    const textNode = document.createTextNode(\"\");\r\n    comment.parentNode.replaceChild(textNode, comment);\r\n    // パース\r\n    const binds = _Parser_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].parse(bindText, DEFAULT_PROPERTY)\r\n      .map(info => {\r\n        const bind = _bindInfo_Factory_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].create(Object.assign(info, {node:textNode, viewModel, indexes}));\r\n        bind.updateNode();\r\n        return bind;\r\n      });\r\n    return binds;\r\n  }\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/bind/BindToText.js?");

/***/ }),

/***/ "./src/bind/Binder.js":
/*!****************************!*\
  !*** ./src/bind/Binder.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _bindInfo_BindInfo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bindInfo/BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _Selector_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Selector.js */ \"./src/bind/Selector.js\");\n/* harmony import */ var _BindToTemplate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BindToTemplate.js */ \"./src/bind/BindToTemplate.js\");\n/* harmony import */ var _BindToElement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BindToElement.js */ \"./src/bind/BindToElement.js\");\n/* harmony import */ var _BindToText_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BindToText.js */ \"./src/bind/BindToText.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * \r\n   * @param {HTMLTemplateElement} template \r\n   * @param {HTMLElement} rootElement \r\n   * @param {ViewModel} viewModel\r\n   * @param {string[]?} indexes\r\n   * @returns {BindInfo[]}\r\n   */\r\n  static bind(template, rootElement, viewModel, indexes = []) {\r\n    const nodes = _Selector_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getTargetNodes(template, rootElement);\r\n    return nodes.flatMap(node => \r\n      (node instanceof HTMLTemplateElement) ? _BindToTemplate_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].bind(node, viewModel, indexes) :\r\n      (node instanceof HTMLElement) ? _BindToElement_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].bind(node, viewModel, indexes) :\r\n      (node instanceof Comment) ? _BindToText_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].bind(node, viewModel, indexes) : \r\n      _utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].raise(`unknown node type`)\r\n    );\r\n  }\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/bind/Binder.js?");

/***/ }),

/***/ "./src/bind/Binds.js":
/*!***************************!*\
  !*** ./src/bind/Binds.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bindInfo_Template_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bindInfo/Template.js */ \"./src/bindInfo/Template.js\");\n/* harmony import */ var _bindInfo_BindInfo_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bindInfo/BindInfo.js */ \"./src/bindInfo/BindInfo.js\");\n/* harmony import */ var _BindToTemplate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BindToTemplate.js */ \"./src/bind/BindToTemplate.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n\r\n\r\n\r\n\r\n\r\nconst toTemplate = bind => (bind instanceof _bindInfo_Template_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) ? bind : undefined;\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {BindInfo[]}\r\n   */\r\n  binds;\r\n  bindsByKey = new Map;\r\n  constructor(binds) {\r\n    this.binds = binds;\r\n    this.buildMap();\r\n  }\r\n\r\n  buildMap() {\r\n    /**\r\n     * \r\n     * @param {BindInfo[]} binds \r\n     */\r\n    const buildMap = (binds) => {\r\n      binds.forEach(bind => {\r\n        this.bindsByKey.get(bind.viewModelPropertyKey)?.push(bind) ?? this.bindsByKey.set(bind.viewModelPropertyKey, [ bind ]);\r\n        (toTemplate(bind)?.templateChildren ?? []).forEach(templateChild => buildMap(templateChild.binds));\r\n      });\r\n    }\r\n    this.bindsByKey.clear();\r\n    buildMap(this.binds);\r\n  }\r\n  /**\r\n   * \r\n   * @param {Set<string>} setOfKey \r\n   * @returns {Template[]}\r\n   */\r\n  getTemplateBinds(setOfKey) {\r\n    const templateBinds = [];\r\n    const stack = [ { binds:this.binds, children:null, index:-1 } ];\r\n    while(stack.length > 0) {\r\n      const info = stack[stack.length - 1];\r\n      info.index++;\r\n      if (info.binds) {\r\n        if (info.index < info.binds.length) {\r\n          const template = toTemplate(info.binds[info.index]);\r\n          if (template) {\r\n            if (setOfKey.has(template.viewModelPropertyKey)) {\r\n              templateBinds.push(template);\r\n            } else {\r\n              if (template.templateChildren.length > 0) {\r\n                stack.push({ binds:null, children:template.templateChildren, index:-1 });\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          stack.pop();\r\n        }\r\n      } else {\r\n        if (info.index < info.children.length) {\r\n          const child = info.children[info.index];\r\n          if (child.binds.length > 0) {\r\n            stack.push({ binds:child.binds, children:null, index:-1 });\r\n          }\r\n        } else {\r\n          stack.pop();\r\n        }\r\n      }\r\n    }\r\n\r\n    return templateBinds;\r\n  }\r\n  /**\r\n   * \r\n   * @param {Set<string>} setOfKey \r\n   */\r\n  updateViewModel(setOfKey) {\r\n    /**\r\n     * @type {Template[]}\r\n     */\r\n    const templateBinds = this.getTemplateBinds(setOfKey);\r\n    if (templateBinds.length > 0) {\r\n      templateBinds.forEach(bind => bind.expand());\r\n      this.buildMap();\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {BindInfo[]} binds \r\n     */\r\n    const updateViewModelProperty = (binds) => {\r\n      binds.forEach(bind => {\r\n        if (setOfKey.has(bind.viewModelPropertyKey)) {\r\n          bind.updateNode();\r\n        }\r\n        const template = toTemplate(bind);\r\n        if (template) {\r\n          template.templateChildren.forEach(templateChild => updateViewModelProperty(templateChild.binds))\r\n        }\r\n      });\r\n    }\r\n    updateViewModelProperty(this.binds);\r\n  }\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/bind/Binds.js?");

/***/ }),

/***/ "./src/bind/Parser.js":
/*!****************************!*\
  !*** ./src/bind/Parser.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BindTextInfo\": () => (/* binding */ BindTextInfo),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _filter_Filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../filter/Filter.js */ \"./src/filter/Filter.js\");\n\r\n\r\nconst SAMENAME = \"@\";\r\nconst DEFAULT = \"$\";\r\n\r\nclass BindTextInfo {\r\n  /**\r\n   * @type {string}\r\n   */\r\n  nodeProperty;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  viewModelProperty;\r\n  /**\r\n   * @type {Filter[]}\r\n   */\r\n  filters;\r\n}\r\n\r\n/**\r\n * トリム関数\r\n * @param {string} s \r\n * @returns {string}\r\n */\r\nconst trim = s => s.trim();\r\n\r\n/**\r\n * 長さチェック関数\r\n * @param {string} s \r\n * @returns {string}\r\n */\r\nconst has = s => s.length > 0;\r\n\r\n/**\r\n * フィルターのパース\r\n * \"eq,100|falsey\" ---> [Filter(eq, [100]), Filter(falsey)]\r\n * @param {string} text \r\n * @returns {Filter}\r\n */\r\nconst parseFilter = text => {\r\n  const [name, ...options] = text.split(\",\").map(trim);\r\n  return Object.assign(new _filter_Filter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"], {name, options});\r\n};\r\n\r\n/**\r\n * ViewModelプロパティのパース\r\n * \"value|eq,100|falsey\" ---> [\"value\", Filter[]]\r\n * @param {string} text \r\n * @returns {{viewModelProperty:string,filters:Filter[]}}\r\n */\r\nconst parseViewModelProperty = text => {\r\n  const [viewModelProperty, ...filterTexts] = text.split(\"|\").map(trim);\r\n  return {viewModelProperty, filters:filterTexts.map(text => parseFilter(text))};\r\n};\r\n\r\n/**\r\n * 式のパース\r\n * \"textContent:value|eq,100|falsey\" ---> [\"textContent\", \"value\", Filter[eq, falsey]]\r\n * @param {string} expr \r\n * @param {string} defaultName \r\n * @returns {{nodeProperty:string,viewModelProp:string,filters:Filter[]}}\r\n */\r\nconst parseExpression = (expr, defaultName) => {\r\n  const [nodeProperty, viewModelPropertyText] = [defaultName].concat(...expr.split(\":\").map(trim)).splice(-2);\r\n  const { viewModelProperty, filters } = parseViewModelProperty(viewModelPropertyText);\r\n  return { nodeProperty, viewModelProperty, filters };\r\n};\r\n\r\n/**\r\n * 属性値のパース\r\n * @param {string} text 属性値\r\n * @param {string} defaultName prop:を省略時、デフォルトのプロパティ値\r\n * @returns {{prop:string,viewModelProp:string,filters:Filter[]}[]}\r\n */\r\nconst parseBindText = (text, defaultName) => {\r\n  return text.split(\";\").map(trim).filter(has).map(s => { \r\n    let { nodeProperty, viewModelProperty, filters } = parseExpression(s, DEFAULT);\r\n    viewModelProperty = viewModelProperty === SAMENAME ? prop : viewModelProperty;\r\n    nodeProperty = nodeProperty === DEFAULT ? defaultName : nodeProperty;\r\n    return { nodeProperty, viewModelProperty, filters };\r\n  });\r\n};\r\n\r\n\r\n/**\r\n * data-bind属性をパースする関数群\r\n */\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {Map<string,BindTextInfo[]>}\r\n   */\r\n  static bindTextsByKey = new Map();\r\n\r\n  /**\r\n   * 属性値のパース\r\n   * @param {string} text 属性値\r\n   * @param {string} defaultName prop:を省略時、デフォルトのプロパティ値\r\n   * @returns {BindTextInfo[]}\r\n   */\r\n  static parse(text, defaultName) {\r\n    const key = `${text}\\t${defaultName}`;\r\n    let binds = this.bindTextsByKey.get(key);\r\n    if (typeof binds === \"undefined\") {\r\n      binds = parseBindText(text, defaultName).map(bind => Object.assign(new BindTextInfo, bind));\r\n      this.bindTextsByKey.set(key, binds);\r\n    }\r\n    return binds;\r\n  }\r\n});\n\n//# sourceURL=webpack://quel/./src/bind/Parser.js?");

/***/ }),

/***/ "./src/bind/Selector.js":
/*!******************************!*\
  !*** ./src/bind/Selector.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst SELECTOR = \"[data-bind]\";\r\n\r\n/**\r\n * ルートノードから、nodeまでのchileNodesのインデックスリストを取得する\r\n * ex.\r\n * rootNode.childNodes[1].childNodes[3].childNodes[7].childNodes[2]\r\n * => [1,3,7,2]\r\n * @param {Node} node \r\n * @returns {integer[]}\r\n */\r\nconst getNodeRoute = node => {\r\n  let routeIndexes = [];\r\n  while(node.parentNode != null) {\r\n    routeIndexes = [ Array.from(node.parentNode.childNodes).indexOf(node) ].concat(routeIndexes);\r\n    node = node.parentNode;\r\n  }\r\n  return routeIndexes;\r\n};\r\n\r\n\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns \r\n */\r\nconst isCommentNode = node => node instanceof Comment && node.textContent[0] === \"@\" && node.textContent[1] === \"@\" && node.textContent[2] !== \"@\";\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns \r\n */\r\nconst getCommentNodes = node => Array.from(node.childNodes).flatMap(node => getCommentNodes(node).concat(isCommentNode(node) ? node : null)).filter(node => node);\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {Map<HTMLTemplateElement, integer[][]>}\r\n   */\r\n  static listOfRouteIndexesByTemplate = new Map();\r\n  /**\r\n   * \r\n   * @param {HTMLTemplateElement} template \r\n   * @param {HTMLElement} rootElement\r\n   * @returns {Node[]}\r\n   */\r\n  static getTargetNodes(template, rootElement) {\r\n    /**\r\n     * @type {Node[]}\r\n     */\r\n    let nodes;\r\n\r\n    if (this.listOfRouteIndexesByTemplate.has(template)) {\r\n      // キャッシュがある場合\r\n      // querySelectorAllをせずにNodeの位置を特定できる\r\n      const listOfRouteIndexes = this.listOfRouteIndexesByTemplate.get(template);\r\n      nodes = listOfRouteIndexes.map(routeIndexes => routeIndexes.reduce((node, routeIndex) => node.childNodes[routeIndex], rootElement));\r\n    } else {\r\n      // data-bindを持つノード、コメントのノードを取得しリストを作成する\r\n      nodes = Array.from(rootElement.querySelectorAll(SELECTOR)).concat(getCommentNodes(rootElement));\r\n\r\n      // ルートから、nodeのインデックスの順番をキャッシュに覚えておく\r\n      this.listOfRouteIndexesByTemplate.set(template, nodes.map(node => getNodeRoute(node)));\r\n    }\r\n    return nodes;\r\n\r\n  }\r\n\r\n});\r\n\r\n\n\n//# sourceURL=webpack://quel/./src/bind/Selector.js?");

/***/ }),

/***/ "./src/component/Component.js":
/*!************************************!*\
  !*** ./src/component/Component.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _Data_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Data.js */ \"./src/component/Data.js\");\n/* harmony import */ var _view_View_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/View.js */ \"./src/view/View.js\");\n/* harmony import */ var _viewModel_Proxy_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../viewModel/Proxy.js */ \"./src/viewModel/Proxy.js\");\n/* harmony import */ var _viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../viewModel/Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n/* harmony import */ var _thread_Processor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../thread/Processor.js */ \"./src/thread/Processor.js\");\n/* harmony import */ var _bind_Binds_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../bind/Binds.js */ \"./src/bind/Binds.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * \r\n * @param {Node} node \r\n * @returns {Component}\r\n */\r\nconst getParentComponent = (node) => {\r\n  do {\r\n    node = node.parentNode;\r\n    if (node == null) return null;\r\n    if (node instanceof ShadowRoot) return node.host;\r\n    if (node instanceof Component) return node;\r\n  } while(true);\r\n};\r\n\r\nclass Component extends HTMLElement {\r\n  /**\r\n   * @type {Proxy<ViewModel>}\r\n   */\r\n  viewModel;\r\n  /**\r\n   * @type {View}\r\n   */\r\n  view;\r\n  /**\r\n   * @type {Binds}\r\n   */\r\n  binds;\r\n\r\n  constructor() {\r\n    super();\r\n    this.noShadowRoot || this.attachShadow({mode: 'open'});\r\n    this.#initialPromise = new Promise((resolve, reject) => {\r\n      this.#initialResolve = resolve;\r\n      this.#initialReject = reject;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @type {string[]}\r\n   */\r\n  static get observedAttributes() {\r\n    return [/* 変更を監視する属性名の配列 */];\r\n  }\r\n  \r\n  /**\r\n   * shadowRootを使ってカプセル化をしない(true)\r\n   * @type {boolean}\r\n   */\r\n  get noShadowRoot() {\r\n    return this.hasAttribute(\"no-shadow-root\");\r\n  }\r\n\r\n  /**\r\n   * viewのルートとなる要素\r\n   * @type {HTMLElement}\r\n   */\r\n  get viewRootElement() {\r\n    return this.shadowRoot ?? this;\r\n  }\r\n\r\n  async build() {\r\n    const componentData = Component.componentDataByName.get(this.tagName);\r\n    componentData || _utils_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].raise(`unknown tag name ${this.tagName}`);\r\n    this.view = new _view_View_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](componentData.template, this.viewRootElement);\r\n    const viewModel = Reflect.construct(componentData.ViewModel, []);\r\n    this.viewModel = (0,_viewModel_Proxy_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, viewModel);\r\n    await this.viewModel[_viewModel_Symbols_js__WEBPACK_IMPORTED_MODULE_5__.SYM_CALL_INIT]();\r\n\r\n    _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].current.addProcess(new _thread_Processor_js__WEBPACK_IMPORTED_MODULE_7__.ProcessData(() => {\r\n      this.binds = this.view.render(this.viewModel);\r\n    }, this, []))\r\n  }\r\n\r\n  /**\r\n   * @type {Promise}\r\n   */\r\n  #initialPromise;\r\n  /**\r\n   * @type {() => {}}\r\n   */\r\n  #initialResolve;\r\n  #initialReject;\r\n  get initialPromise() {\r\n    return this.#initialPromise;\r\n  }\r\n\r\n  /**\r\n   * 親コンポーネント\r\n   * @type {Component}\r\n   */\r\n  #parentComponent;\r\n  get parentComponent() {\r\n    if (typeof this.#parentComponent === \"undefined\") {\r\n      this.#parentComponent = getParentComponent(this);\r\n    }\r\n    return this.#parentComponent;\r\n  }\r\n\r\n  /**\r\n   * DOMツリーへ追加\r\n   */\r\n  async connectedCallback() {\r\n//    console.log(`${this.tagName}.connectCallback()`);\r\n    try {\r\n      this.parentComponent && await this.parentComponent.initialPromise;\r\n      await this.build();\r\n    } finally {\r\n      this.#initialResolve && this.#initialResolve();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * DOMツリーから削除\r\n   */\r\n  disconnectedCallback() {\r\n    \r\n  }\r\n\r\n  /**\r\n   * 移動時\r\n   */\r\n  adoptedCallback() {\r\n    \r\n  }\r\n\r\n  /**\r\n   * 属性値更新\r\n   * @param {string} name \r\n   * @param {any} oldValue \r\n   * @param {any} newValue \r\n   */\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    \r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Set<string>} setOfKey \r\n   * @param {integer[]} indexes \r\n   */\r\n  notify(setOfKey) {\r\n    this.binds.updateViewModel(setOfKey);\r\n  }\r\n\r\n  /**\r\n   * @type {Map<string,ComponentData>}\r\n   */\r\n  static componentDataByName = new Map;\r\n  \r\n  /**\r\n   * \r\n   * @param {string} name \r\n   * @param {UserComponentData} componentData \r\n   */\r\n  static regist(name, componentData) {\r\n    const upperName = name.toUpperCase();\r\n    this.componentDataByName.set(upperName, Object.assign(new _Data_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](), componentData));\r\n    const componentClass = class extends Component {}; // 同じクラスを登録できないため\r\n    // nameにはハイフンが必要、アルファベットの大文字は使えません\r\n    customElements.define(name, componentClass);\r\n\r\n  }\r\n\r\n}\n\n//# sourceURL=webpack://quel/./src/component/Component.js?");

/***/ }),

/***/ "./src/component/Data.js":
/*!*******************************!*\
  !*** ./src/component/Data.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Data)\n/* harmony export */ });\n\r\nclass Data {\r\n  /**\r\n   * @type {string}\r\n   */\r\n  html;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  css;\r\n  /**\r\n   * @type {class}\r\n   */\r\n  ViewModel;\r\n  /**\r\n   * @type {HTMLTemplateElement}\r\n   */\r\n  #template;\r\n  get template() {\r\n    if (typeof this.#template === \"undefined\") {\r\n      const html = this.html ? this.html.replaceAll(/\\{([^\\}]+)\\}/g, (match, p1) => `<!--@@${p1}-->`) : \"\";\r\n      this.#template = document.createElement(\"template\");\r\n      this.#template.innerHTML = (this.css ? `<style>\\n${this.css}\\n</style>` : \"\") + html;\r\n    }\r\n    return this.#template;\r\n  }\r\n  set template(template) {\r\n    this.#template = template;\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://quel/./src/component/Data.js?");

/***/ }),

/***/ "./src/export.js":
/*!***********************!*\
  !*** ./src/export.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/main.js\");\n/* harmony import */ var _myname_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./myname.js */ \"./src/myname.js\");\n\r\n\r\n\r\nwindow[_myname_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]] = _main_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n\n//# sourceURL=webpack://quel/./src/export.js?");

/***/ }),

/***/ "./src/filter/Builtin.js":
/*!*******************************!*\
  !*** ./src/filter/Builtin.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"inputFilters\": () => (/* binding */ inputFilters),\n/* harmony export */   \"outputFilters\": () => (/* binding */ outputFilters)\n/* harmony export */ });\nclass outputFilters {\r\n  static localeString = (value, options) => { const num = parseFloat(value); return !isNaN(num) ? num.toLocaleString() : \"\" };\r\n  static fixed        = (value, options) => { const num = parseFloat(value); return !isNaN(num) ? num.toFixed(options[0] ?? 0) : \"\" };\r\n  static styleDisplay = (value, options) => value ? (options[0] ?? \"\") : \"none\";\r\n  static truthy       = (value, options) => value ? true : false;\r\n  static falsey       = (value, options) => !value ? true : false;\r\n  static not          = this.falsey;\r\n  static upperCase    = (value, options) => value?.toUpperCase ? value.toUpperCase() : \"\";\r\n  static lowerCase    = (value, options) => value?.toLowerCase ? value.toLowerCase() : \"\";\r\n  static eq           = (value, options) => value == options[0];\r\n  static ne           = (value, options) => value != options[0];\r\n  static lt           = (value, options) => Number(value) < Number(options[0]);\r\n  static le           = (value, options) => Number(value) <= Number(options[0]);\r\n  static gt           = (value, options) => Number(value) > Number(options[0]);\r\n  static ge           = (value, options) => Number(value) >= Number(options[0]);\r\n  static embed        = (value, options) => decodeURI((options[0] ?? \"\").replaceAll(\"%s\", value));\r\n  static ifText       = (value, options) => value ? options[0] ?? \"\" : options[1] ?? \"\";\r\n  static null         = (value, options) => (value == null) ? true : false;\r\n}\r\n\r\nclass inputFilters {\r\n  static number       = (value, options) => Number(value);\r\n  static boolean      = (value, options) => Boolean(value);\r\n}\n\n//# sourceURL=webpack://quel/./src/filter/Builtin.js?");

/***/ }),

/***/ "./src/filter/Filter.js":
/*!******************************!*\
  !*** ./src/filter/Filter.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Filter)\n/* harmony export */ });\n/* harmony import */ var _Builtin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Builtin.js */ \"./src/filter/Builtin.js\");\n\r\n\r\n// \"property:vmProperty|toFix,2|toLocaleString;\"\r\n// => toFix,2|toLocaleString\r\n\r\nclass Filter {\r\n  /**\r\n   * @type {string}\r\n   */\r\n  name;\r\n  /**\r\n   * @type {string[]}\r\n   */\r\n  options;\r\n\r\n  /**\r\n   * \r\n   * @param {any} value \r\n   * @param {Filter[]} filters \r\n   * @returns {any}\r\n   */\r\n  static applyForInput(value, filters) {\r\n    return filters.reduceRight((v, f) => (f.name in _Builtin_js__WEBPACK_IMPORTED_MODULE_0__.inputFilters) ? _Builtin_js__WEBPACK_IMPORTED_MODULE_0__.inputFilters[f.name](v, f.options) : v, value);\r\n  }\r\n  /**\r\n   * \r\n   * @param {any} value \r\n   * @param {Filter[]} filters \r\n   * @returns {any}\r\n   */\r\n  static applyForOutput(value, filters) {\r\n    return filters.reduce((v, f) => (f.name in _Builtin_js__WEBPACK_IMPORTED_MODULE_0__.outputFilters) ? _Builtin_js__WEBPACK_IMPORTED_MODULE_0__.outputFilters[f.name](v, f.options) : v, value);\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://quel/./src/filter/Filter.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _component_Component_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./component/Component.js */ \"./src/component/Component.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./thread/Thread.js */ \"./src/thread/Thread.js\");\n\r\n\r\n // threadの開始\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  static #prefix;\r\n  static #debug = true;\r\n  /**\r\n   * \r\n   * @param {Object<string,UserComponentData>} components \r\n   */\r\n  static components(components) {\r\n    const prefix = this.#prefix;\r\n    Object.entries(components).forEach(([name, componentData]) => {\r\n      const componentName = prefix ? `${prefix}-${name}` : name;\r\n      _component_Component_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].regist(componentName, componentData);\r\n    });\r\n    return this;\r\n  }\r\n  static prefix(prefix) {\r\n    this.#prefix = prefix;\r\n    return this;\r\n  }\r\n  static setDebug(flag) {\r\n    this.#debug = flag;\r\n    return this;\r\n  }\r\n  static getDebug() {\r\n    return this.#debug;\r\n  }\r\n});\n\n//# sourceURL=webpack://quel/./src/main.js?");

/***/ }),

/***/ "./src/myname.js":
/*!***********************!*\
  !*** ./src/myname.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst name = \"quel\";\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (name);\r\n\n\n//# sourceURL=webpack://quel/./src/myname.js?");

/***/ }),

/***/ "./src/node/PropertyType.js":
/*!**********************************!*\
  !*** ./src/node/PropertyType.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NodePropertyType\": () => (/* binding */ NodePropertyType),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n\r\n\r\nconst PREFIX_EVENT = \"on\";\r\n\r\n/**\r\n * @enum {number}\r\n */\r\nconst NodePropertyType = {\r\n  levelTop: 1,\r\n  level2nd: 2,\r\n  level3rd: 3,\r\n  className: 10,\r\n  radio: 20,\r\n  checkbox: 30,\r\n  template: 90,\r\n  event: 91,\r\n};\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * \r\n   * @param {Node} node\r\n   * @param {string} nodeProperty \r\n   * @returns {{type:NodePropertyType,nodePropertyElements:string[],eventType:string}}\r\n   */\r\n  static getInfo(node, nodeProperty) {\r\n    const result = {type:null, nodePropertyElements:[], eventType:null};\r\n    if (node instanceof HTMLTemplateElement) { \r\n      result.type = NodePropertyType.template;\r\n      return result;\r\n    };\r\n\r\n    result.nodePropertyElements = nodeProperty.split(\".\");\r\n    if (result.nodePropertyElements.length === 1) {\r\n      if (result.nodePropertyElements[0].startsWith(PREFIX_EVENT)) {\r\n        result.type = NodePropertyType.event;\r\n        result.eventType = result.nodePropertyElements[0].slice(PREFIX_EVENT.length);\r\n      } else if (result.nodePropertyElements[0] === \"radio\") {\r\n        result.type = NodePropertyType.radio;\r\n      } else if (result.nodePropertyElements[1] === \"checkbox\") {\r\n        result.type = NodePropertyType.checkbox;\r\n      } else {\r\n        result.type = NodePropertyType.levelTop;\r\n      }\r\n    } else if (result.nodePropertyElements.length === 2) {\r\n      if (result.nodePropertyElements[0] === \"className\") {\r\n        result.type = NodePropertyType.className;\r\n      } else {\r\n        result.type = NodePropertyType.level2nd;\r\n      }\r\n    } else if (result.nodePropertyElements.length === 3) {\r\n      result.type = NodePropertyType.level3rd;\r\n    } else {\r\n      _utils_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].raise(`unknown property ${nodeProperty}`);\r\n    }\r\n    return result;\r\n  }\r\n});\r\n\r\n\n\n//# sourceURL=webpack://quel/./src/node/PropertyType.js?");

/***/ }),

/***/ "./src/thread/NodeUpdator.js":
/*!***********************************!*\
  !*** ./src/thread/NodeUpdator.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NodeUpdateData\": () => (/* binding */ NodeUpdateData),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass NodeUpdateData {\r\n  /**\r\n   * @type {Node}\r\n   */\r\n  node;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  property;\r\n  /**\r\n   * @type {()=>{}}\r\n   */\r\n  updateFunc;\r\n\r\n  /**\r\n   * \r\n   * @param {Node} node \r\n   * @param {string} property \r\n   * @param {()=>{}} updateFunc \r\n   */\r\n  constructor(node, property, updateFunc) {\r\n    this.node = node;\r\n    this.property = property;\r\n    this.updateFunc = updateFunc;\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {NodeUpdateData[]}\r\n   */\r\n  queue = [];\r\n\r\n  /**\r\n   * \r\n   * @param {NodeUpdateData[]} queue \r\n   */\r\n  reorder(queue) {\r\n    queue.sort((update1, update2) => {\r\n      if (update2.node instanceof HTMLTemplateElement) return 1;\r\n      if (update1.node instanceof HTMLSelectElement && update1.property === \"value\") return 1;\r\n      return -1;\r\n    });\r\n  }\r\n  /**\r\n   * \r\n   */\r\n  async exec() {\r\n    while(this.queue.length > 0) {\r\n      const queue = this.queue.splice(0);\r\n      this.reorder(queue);\r\n      queue.forEach(update => Reflect.apply(update.updateFunc, update, []));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @type {boolean}\r\n   */\r\n  get isEmpty() {\r\n    return this.queue.length === 0;\r\n  }\r\n});\r\n\n\n//# sourceURL=webpack://quel/./src/thread/NodeUpdator.js?");

/***/ }),

/***/ "./src/thread/Notifier.js":
/*!********************************!*\
  !*** ./src/thread/Notifier.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NotifyData\": () => (/* binding */ NotifyData),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _component_Component_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Component.js */ \"./src/component/Component.js\");\n\r\n\r\nclass NotifyData {\r\n  /**\r\n   * @type {Component}\r\n   */\r\n  component;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  name;\r\n  /**\r\n   * @type {integer[]}\r\n   */\r\n  #indexes;\r\n  get indexes() {\r\n    return this.#indexes;\r\n  }\r\n  set indexes(value) {\r\n    this.#indexes = value;\r\n    this.#indexesString = value.toString();\r\n  }\r\n  /**\r\n   * @type {string}\r\n   */\r\n  #indexesString;\r\n  get indexesString() {\r\n    return this.#indexesString;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Component} component\r\n   * @param {string} name \r\n   * @param {integer[]} indexes \r\n   */\r\n  constructor(component, name, indexes) {\r\n    this.component = component;\r\n    this.name = name;\r\n    this.indexes = indexes;\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {NotifyData[]}\r\n   */\r\n  queue = [];\r\n\r\n  /**\r\n   * \r\n   */\r\n  async exec() {\r\n    while(this.queue.length > 0) {\r\n      const queue = this.queue.splice(0);\r\n      /**\r\n       * @type {Map<Component,NotifyData[]>}\r\n       */\r\n      const notifiesByComponent = queue.reduce((map, notify) => {\r\n        map.get(notify.component)?.push(notify) ?? map.set(notify.component, [ notify ]);\r\n        return map;\r\n      }, new Map);\r\n      \r\n      for(const [component, notifies] of notifiesByComponent.entries()) {\r\n        const setOfKey = new Set(notifies.map(notify => `${notify.name}\\t${notify.indexes}`));\r\n        component.notify(setOfKey);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @type {boolean}\r\n   */\r\n  get isEmpty() {\r\n    return this.queue.length === 0;\r\n  }\r\n});\r\n\n\n//# sourceURL=webpack://quel/./src/thread/Notifier.js?");

/***/ }),

/***/ "./src/thread/Processor.js":
/*!*********************************!*\
  !*** ./src/thread/Processor.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ProcessData\": () => (/* binding */ ProcessData),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ProcessData {\r\n  /**\r\n   * @type {()=>{}}\r\n   */\r\n  target;\r\n  /**\r\n   * @type {Object}\r\n   */\r\n  thisArgument;\r\n  /**\r\n   * @type {any[]}\r\n   */\r\n  argumentsList;\r\n\r\n  /**\r\n   * \r\n   * @param {()=>{}} target \r\n   * @param {Object} thisArgument \r\n   * @param {any[]} argumentsList \r\n   */\r\n  constructor(target, thisArgument, argumentsList) {\r\n    this.target = target;\r\n    this.thisArgument = thisArgument;\r\n    this.argumentsList = argumentsList;\r\n  }\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {ProcessData[]}\r\n   */\r\n  queue = [];\r\n\r\n  /**\r\n   * \r\n   */\r\n  async exec() {\r\n    while(this.queue.length > 0) {\r\n      const process = this.queue.shift();\r\n      await Reflect.apply(process.target, process.thisArgument, process.argumentsList);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @type {boolean}\r\n   */\r\n  get isEmpty() {\r\n    return this.queue.length === 0;\r\n  }\r\n});\n\n//# sourceURL=webpack://quel/./src/thread/Processor.js?");

/***/ }),

/***/ "./src/thread/Thread.js":
/*!******************************!*\
  !*** ./src/thread/Thread.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Thread)\n/* harmony export */ });\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../main.js */ \"./src/main.js\");\n/* harmony import */ var _NodeUpdator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeUpdator.js */ \"./src/thread/NodeUpdator.js\");\n/* harmony import */ var _Notifier_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Notifier.js */ \"./src/thread/Notifier.js\");\n/* harmony import */ var _Processor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Processor.js */ \"./src/thread/Processor.js\");\n\r\n\r\n\r\n\r\n\r\nclass Slot {\r\n  /**\r\n   * @type {Processor}\r\n   */\r\n  processor;\r\n  /**\r\n   * @type {Notifier}\r\n   */\r\n  notifier;\r\n  /**\r\n   * @type {NodeUpdator}\r\n   */\r\n  nodeUpdator;\r\n\r\n  /**\r\n   * \r\n   */\r\n  constructor() {\r\n    this.processor = new _Processor_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\r\n    this.notifier = new _Notifier_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\r\n    this.nodeUpdator = new _NodeUpdator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n  }\r\n\r\n  async exec() {\r\n    do {\r\n      await this.processor.exec();\r\n      await this.notifier.exec();\r\n      await this.nodeUpdator.exec();\r\n    } while(!this.processor.isEmpty || !this.notifier.isEmpty || !this.nodeUpdator.isEmpty);\r\n  }\r\n\r\n}\r\n\r\nclass Thread {\r\n  /**\r\n   * @type {(value:any)=>{}}\r\n   */\r\n  #resolve;\r\n  /**\r\n   * @type {()=>{}}\r\n   */\r\n  #reject;\r\n  /**\r\n   * @type {Slot}\r\n   */\r\n  #slot;\r\n  constructor() {\r\n    this.main();\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns \r\n   */\r\n  async sleep() {\r\n    return new Promise((resolve, reject) => {\r\n      this.#resolve = resolve;\r\n      this.#reject = reject;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  stop() {\r\n    this.#reject();\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Slot} slot \r\n   */\r\n  wakeup(slot) {\r\n    this.#slot = slot;\r\n    this.#resolve();\r\n  }\r\n\r\n  async main() {\r\n    do {\r\n      try {\r\n        await this.sleep();\r\n        _main_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDebug() && performance.mark('slot-exec:start');\r\n        try {\r\n          await this.#slot.exec();\r\n        } finally {\r\n          this.#slot = undefined;\r\n//          console.log(\"slot.exec stopped\");\r\n          if (_main_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDebug()) {\r\n            performance.mark('slot-exec:end')\r\n            performance.measure('slot-exec', 'slot-exec:start', 'slot-exec:end');\r\n            console.log(performance.getEntriesByType(\"measure\"));    \r\n            performance.clearMeasures();\r\n            performance.clearMarks();\r\n          }\r\n        }\r\n      } catch(e) {\r\n        if (typeof e !== \"undefined\") {\r\n          console.error(e);\r\n          if (!confirm(\"致命的なエラーが発生しました。続行しますか？\")) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } while(true);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {ProcessData} process \r\n   */\r\n  addProcess(process) {\r\n    const slot = this.#slot ?? new Slot;\r\n    slot.processor.queue.push(process);\r\n    this.#slot || this.wakeup(slot);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {NotifyData} notify \r\n   */\r\n  addNotify(notify) {\r\n    const slot = this.#slot ?? new Slot;\r\n    slot.notifier.queue.push(notify);\r\n    this.#slot || this.wakeup(slot);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {NodeUpdateData} nodeUpdate \r\n   */\r\n  addNodeUpdate(nodeUpdate) {\r\n    const slot = this.#slot ?? new Slot;\r\n    slot.nodeUpdator.queue.push(nodeUpdate);\r\n    this.#slot || this.wakeup(slot);\r\n  }\r\n\r\n  /**\r\n   * @type {Thread[]}\r\n   */\r\n  static stack = [];\r\n\r\n\r\n  static start() {\r\n    this.stack.push(new Thread());\r\n  }\r\n\r\n  /**\r\n   * 現在のスレッド\r\n   * @type {Thread} \r\n   */\r\n  static get current() {\r\n    return this.stack.at(-1);\r\n  }\r\n\r\n  /**\r\n   * 別スレッドを作成する\r\n   */\r\n  static suspend() {\r\n    this.stack.push(new Thread());\r\n  }\r\n\r\n  /**\r\n   * 現在のスレッドを停止し、元のスレッドを復帰\r\n   */\r\n  static resume() {\r\n    const curThread = this.stack.pop();\r\n    curThread.stop();\r\n  }\r\n}\r\n\r\nThread.start();\r\n\n\n//# sourceURL=webpack://quel/./src/thread/Thread.js?");

/***/ }),

/***/ "./src/types.js":
/*!**********************!*\
  !*** ./src/types.js ***!
  \**********************/
/***/ (() => {

eval("/**\r\n * @typedef {{html?:string,css?:string,ViewModel:class,template?:HTMLTemplateElement}} UserComponentData\r\n * \r\n * @typedef {Object<string,any>} ViewModel \r\n */\n\n//# sourceURL=webpack://quel/./src/types.js?");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * \r\n   * @param {string} message \r\n   */\r\n  static raise(message) {\r\n    throw message;\r\n  }\r\n\r\n  /**\r\n   * 関数かどうかをチェック\r\n   * @param {any} obj \r\n   * @returns {boolean}\r\n   */\r\n  static isFunction = (obj) => {\r\n    const toString = Object.prototype.toString;\r\n    const text = toString.call(obj).slice(8, -1).toLowerCase();\r\n    return (text === \"function\" || text === \"asyncfunction\");\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {HTMLElement} element \r\n   * @returns {boolean}\r\n   */\r\n  static isInputableElement(element) {\r\n    return element instanceof HTMLSelectElement || element instanceof HTMLTextAreaElement || \r\n      (element instanceof HTMLInputElement && element.type !== \"button\");\r\n  }\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/utils.js?");

/***/ }),

/***/ "./src/viewModel/Accessor.js":
/*!***********************************!*\
  !*** ./src/viewModel/Accessor.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _component_Component_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Component.js */ \"./src/component/Component.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"./src/utils.js\");\n/* harmony import */ var _PropertyInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PropertyInfo.js */ \"./src/viewModel/PropertyInfo.js\");\n\r\n\r\n\r\n\r\n\r\nconst notPrivate = property => property[0] !== \"_\";\r\nconst DEPENDENCY_PROP = \"$dependencyProps\";\r\n\r\nfunction createDependencyMap(list) {\r\n  const map = new Map();\r\n  list.forEach(([prop, refProps]) => {\r\n    refProps.forEach(refProp => {\r\n      map.get(refProp)?.push(prop) ?? map.set(refProp, [ prop ]);\r\n    }) \r\n\r\n  })\r\n  return map;\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * \r\n   * @param {Component} component\r\n   * @param {ViewModel} viewModel \r\n   * @returns {{viewmodel:ViewModel, definedProperties:PropertyInfo[], dependentMap:Map<string,string[]>}}\r\n   */\r\n  static convert(component, viewModel) {\r\n    let dependentMap = new Map;\r\n    // $dependencyPropsを取得\r\n    if (DEPENDENCY_PROP in viewModel) {\r\n      const desc = Object.getOwnPropertyDescriptor(viewModel, DEPENDENCY_PROP);\r\n      desc.enumerable = false;\r\n      Object.defineProperty(viewModel, DEPENDENCY_PROP, desc);\r\n      dependentMap = createDependencyMap(desc.value);\r\n    }\r\n    // プライベートプロパティを列挙不可にする\r\n    for(const [prop, desc] of Object.entries(Object.getOwnPropertyDescriptors(viewModel))) {\r\n      if (notPrivate(prop)) continue;\r\n      desc.enumerable = false;\r\n      Object.defineProperty(viewModel, prop, desc);\r\n    }\r\n\r\n    // 普通のプロパティをgetter/setter化する\r\n    const accessorProperties = \r\n      Object.keys(viewModel).filter(notPrivate).map(property => _PropertyInfo_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(property));\r\n\r\n    accessorProperties.forEach(property => {\r\n      const value = viewModel[property.name];\r\n      delete viewModel[property.name];\r\n      const desc = property.createPropertyDescriptor(component);\r\n      Object.defineProperty(viewModel, property.name, desc);\r\n\r\n      if (!(property.privateName in viewModel)) {\r\n        const privateDesc = {\r\n          value,\r\n          writable: true, \r\n          enumerable: false, \r\n          configurable: true,\r\n        }\r\n        Object.defineProperty(viewModel, property.privateName, privateDesc);\r\n      }\r\n    });\r\n\r\n    // getterを列挙可にする\r\n    for(const [prop, desc] of Object.entries(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(viewModel)))) {\r\n      if (prop === \"constructor\") continue;\r\n      if (_utils_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isFunction(desc.value)) continue;\r\n      desc.enumerable = true;\r\n      Object.defineProperty(viewModel, prop, desc);\r\n    }\r\n    const definedProperties = Object.keys(viewModel).map(prop => _PropertyInfo_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(prop));\r\n\r\n    // definedPropertiesからdependentMapに追加\r\n    definedProperties.forEach(property => {\r\n      if (property.isPrimitive) return;\r\n      if (property.lastElement === \"*\") return;\r\n      const props = dependentMap.get(property.parentName)?.concat(property.name) ?? [ property.name ];\r\n      dependentMap.set(property.parentName, props);\r\n    });\r\n\r\n    return { viewModel, definedProperties, dependentMap };\r\n\r\n  }\r\n});\n\n//# sourceURL=webpack://quel/./src/viewModel/Accessor.js?");

/***/ }),

/***/ "./src/viewModel/Cache.js":
/*!********************************!*\
  !*** ./src/viewModel/Cache.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PropertyInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PropertyInfo.js */ \"./src/viewModel/PropertyInfo.js\");\n/**\r\n * キャッシュのキーは、プロパティとインデックス\r\n */\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {\r\n  /**\r\n   * @type {Map<PropertyInfo,Map<string,any>>}\r\n   */\r\n  valueByIndexesByProp = new Map();\r\n\r\n  /**\r\n   * \r\n   * @param {PropertyInfo} property \r\n   * @param {integer[]} indexes \r\n   * @returns {any}\r\n   */\r\n  get(property, indexes) {\r\n    return this.valueByIndexesByProp.get(property)?.get(indexes.toString());\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {PropertyInfo} property \r\n   * @param {integer[]} indexes \r\n   * @param {any} value \r\n   */\r\n  set(property, indexes, value) {\r\n    let valueByIndexs = this.valueByIndexesByProp.get(property);\r\n    if (typeof valueByIndexs === \"undefined\") {\r\n      valueByIndexs = new Map();\r\n      this.valueByIndexesByProp.set(property, valueByIndexs);\r\n    }\r\n    valueByIndexs.set(indexes.toString(), value);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {PropertyInfo} property \r\n   * @param {integer[]} indexes \r\n   * @returns {boolean}\r\n   */\r\n  has(property, indexes) {\r\n    return this.valueByIndexesByProp.get(property)?.has(indexes.toString()) ?? false;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {PropertyInfo} property \r\n   * @param {integer[]} indexes \r\n   */\r\n  delete(property, indexes) {\r\n    const indexesString = indexes.toString();\r\n    let valueByIndexes = this.valueByIndexesByProp.get(property);\r\n    if (valueByIndexes) {\r\n      valueByIndexes.delete(indexesString);\r\n      if (valueByIndexes.size === 0) {\r\n        this.valueByIndexesByProp.delete(property);\r\n      }\r\n    }\r\n    // 関連するキャッシュを取得し、削除する\r\n    const indexesStarts = indexesString + \",\";\r\n    const properties = Array.from(this.valueByIndexesByProp.keys());\r\n    /**\r\n     * \r\n     * @param {PropertyInfo} property \r\n     * @returns {PropertyInfo[]}\r\n     */\r\n    const getDependentProps = property => properties\r\n        .filter(prop => !prop.isPrimitive && prop.parentName === property.name)\r\n        .flatMap(prop => [prop].concat(getDependentProps(prop)));\r\n    const dependentProps = getDependentProps(property);\r\n    dependentProps.forEach(property => {\r\n      const valueByIndexes = this.valueByIndexesByProp.get(property);\r\n      for(const indexes of valueByIndexes.keys()) {\r\n        if (indexesString === \"\" || indexes === indexesString || indexes.startsWith(indexesStarts)) {\r\n          valueByIndexes.delete(indexes);\r\n        }\r\n      }\r\n      if (valueByIndexes.size === 0) {\r\n        this.valueByIndexesByProp.delete(property);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  clear() {\r\n    this.valueByIndexesByProp.clear();\r\n  }\r\n  \r\n\r\n\r\n});\n\n//# sourceURL=webpack://quel/./src/viewModel/Cache.js?");

/***/ }),

/***/ "./src/viewModel/PropertyInfo.js":
/*!***************************************!*\
  !*** ./src/viewModel/PropertyInfo.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PropertyInfo)\n/* harmony export */ });\n/* harmony import */ var _component_Component_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../component/Component.js */ \"./src/component/Component.js\");\n/* harmony import */ var _Symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\nclass PropertyInfo {\r\n\r\n  name;\r\n  elements;\r\n  loopLevel;\r\n  parentName;\r\n  lastElement;\r\n  regexp;\r\n  isPrimitive;\r\n  privateName;\r\n  isObject;\r\n  isLoop;\r\n  isNotPrimitive;\r\n\r\n  constructor(name) {\r\n    this.name = name;\r\n    this.elements = name.split(\".\");\r\n    this.loopLevel = this.elements.reduce((count, element) => count + (element === \"*\") ? 1 : 0, 0);\r\n    this.parentName = this.elements.slice(0, -1).join(\".\");\r\n    this.lastElement = this.elements.at(-1) ?? null;\r\n    this.regexp = (this.loopLevel > 0) ? new RegExp(\"^\" + name.replaceAll(\"*\", \"(\\\\w+)\").replaceAll(\".\", \"\\\\.\") + \"$\") : null;\r\n    this.isPrimitive = this.elements.length === 1 && this.loopLevel === 0;\r\n    this.privateName = this.isPrimitive ? `_${name}` : null;\r\n    this.isObject = this.elements.length > 1 && this.loopLevel === 0;\r\n    this.isLoop = this.elements.length > 1 && this.loopLevel > 0;\r\n    this.isNotPrimitive = ! this.isPrimitive ;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {ViewModel} viewModel \r\n   * @returns \r\n   */\r\n  primitiveGetter(viewModel) {\r\n    return viewModel[this.privateName];\r\n  }\r\n  /**\r\n   * \r\n   * @param {ViewModel} viewModel \r\n   * @param {any} value \r\n   * @returns \r\n   */\r\n  primitiveSetter(viewModel, value) {\r\n    viewModel[this.privateName] = value;\r\n    return true;\r\n  }\r\n  /**\r\n   * \r\n   * @param {ViewModel} viewModel \r\n   * @returns \r\n   */\r\n  nonPrimitiveGetter(viewModel) {\r\n    const { parentName, loopLevel, lastElement } = this;\r\n    const index = (lastElement === \"*\") ? viewModel[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_GET_INDEXES][loopLevel - 1] : lastElement;\r\n    return viewModel[parentName][index];\r\n  }\r\n  /**\r\n   * \r\n   * @param {ViewModel} viewModel \r\n   * @param {any} value \r\n   * @returns \r\n   */\r\n  nonPrimitiveSetter(viewModel, value) {\r\n    const { parentName, loopLevel, lastElement } = this;\r\n    const index = (lastElement === \"*\") ? viewModel[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_GET_INDEXES][loopLevel - 1] : lastElement;\r\n    viewModel[parentName][index] = value;\r\n    return true;\r\n  }\r\n  /**\r\n   * \r\n   * @param {Component} component \r\n   * @returns {PropertyDescriptor}\r\n   */\r\n  createPropertyDescriptor(component) {\r\n    return {\r\n      get : this.isPrimitive ?\r\n        () => Reflect.apply(this.primitiveGetter, this, [component.viewModel]) : \r\n        () => Reflect.apply(this.nonPrimitiveGetter, this, [component.viewModel]),\r\n      set : this.isPrimitive ?\r\n        value => Reflect.apply(this.primitiveSetter, this, [component.viewModel, value]) : \r\n        value => Reflect.apply(this.nonPrimitiveSetter, this, [component.viewModel, value]),\r\n      enumerable: true, \r\n      configurable: true,\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {ViewModel} viewModel \r\n   * @param {integer[]} indexes \r\n   * @returns {integer[][]}\r\n   */\r\n  expand(viewModel, indexes) {\r\n    if (this.loopLevel === indexes.length) {\r\n      return [ indexes ];\r\n    } else if (this.loopLevel < indexes.length) {\r\n      return [ indexes.slice(0, this.loopLevel) ];\r\n    } else {\r\n      const traverse = (parentName, elementIndex, loopIndexes) => {\r\n        const parentNameDot = parentName !== \"\" ? parentName + \".\" : parentName;\r\n        const element = this.elements[elementIndex];\r\n        const isTerminate = (this.elements.length - 1) === elementIndex;\r\n        if (element === \"*\") {\r\n          if (loopIndexes.length < indexes.length) {\r\n            return isTerminate ? [ indexes.slice(0, loopIndexes.length + 1) ] :\r\n              traverse(parentNameDot + element, elementIndex + 1, indexes.slice(0, loopIndexes.length + 1));\r\n          } else {\r\n            const keys = Array.from(Object.keys(viewModel[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_GET](parentName, loopIndexes) ?? []));\r\n            return keys.map(key => {\r\n              return isTerminate ? [ loopIndexes.concat(key) ] :\r\n                traverse(parentNameDot + element, elementIndex + 1, loopIndexes.concat(key));\r\n            })\r\n          }\r\n        } else {\r\n          return isTerminate ? [ loopIndexes ] : \r\n           traverse(parentNameDot + element, elementIndex + 1, loopIndexes);\r\n        }\r\n\r\n      };\r\n      const listOfIndexes = traverse(\"\", 0, []);\r\n      return listOfIndexes;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * @type {Map<string,PropertyInfo>}\r\n   */\r\n  static #propertyInfoByProp = new Map;\r\n  static create(prop) {\r\n    let propertyInfo = this.#propertyInfoByProp.get(prop);\r\n    if (typeof propertyInfo === \"undefined\") {\r\n      propertyInfo = new PropertyInfo(prop);\r\n      this.#propertyInfoByProp.set(prop, propertyInfo);\r\n    }\r\n    return propertyInfo;\r\n  }\r\n  \r\n}\n\n//# sourceURL=webpack://quel/./src/viewModel/PropertyInfo.js?");

/***/ }),

/***/ "./src/viewModel/Proxy.js":
/*!********************************!*\
  !*** ./src/viewModel/Proxy.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Symbols.js */ \"./src/viewModel/Symbols.js\");\n/* harmony import */ var _component_Component_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../component/Component.js */ \"./src/component/Component.js\");\n/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Accessor.js */ \"./src/viewModel/Accessor.js\");\n/* harmony import */ var _PropertyInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PropertyInfo.js */ \"./src/viewModel/PropertyInfo.js\");\n/* harmony import */ var _thread_Processor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../thread/Processor.js */ \"./src/thread/Processor.js\");\n/* harmony import */ var _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../thread/Thread.js */ \"./src/thread/Thread.js\");\n/* harmony import */ var _thread_Notifier_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../thread/Notifier.js */ \"./src/thread/Notifier.js\");\n/* harmony import */ var _Cache_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Cache.js */ \"./src/viewModel/Cache.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst MAX_INDEXES_LEVEL = 8;\r\nconst CONTEXT_INDEXES = new Set(\r\n  [...Array(MAX_INDEXES_LEVEL)].map((content,index) => `$${index + 1}`)   \r\n);\r\n\r\nclass Handler {\r\n  /**\r\n   * @type {Cache}\r\n   */\r\n  cache = new _Cache_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]();\r\n  /**\r\n   * @type {Map<string,{indexes:integer[],propertyInfo:PropertyInfo}>}\r\n   */\r\n  propertyInfoIndexesByProp = new Map();\r\n  /**\r\n   * @type {integer[][]}\r\n   */\r\n  stackIndexes = [];\r\n  /**\r\n   * @type {Component}\r\n   */\r\n  component;\r\n  /**\r\n   * @type {Map<string,PropertyInfo>}\r\n   */\r\n  definedPropertyByProp = new Map;\r\n  /**\r\n   * @type {PropertyInfo[]}\r\n   */\r\n  loopProperties = [];\r\n\r\n  /**\r\n   * @type {Map<string,string[]>}\r\n   */\r\n  dependentMap;\r\n  /**\r\n   * \r\n   * @param {Component} component \r\n   * @param {PropertyInfo[]} definedProperties\r\n   * @param {Map<string,string[]>} dependentMap\r\n   */\r\n  constructor(component, definedProperties, dependentMap) {\r\n    this.component = component;\r\n    this.definedPropertyByProp = new Map(definedProperties.map(property => ([property.name, property])));\r\n    this.loopProperties = definedProperties.filter(property => property.isLoop);\r\n    this.dependentMap = dependentMap;\r\n  }\r\n\r\n  get lastIndexes() {\r\n    return this.stackIndexes[this.stackIndexes.length - 1] ?? [];\r\n  }\r\n\r\n  async [_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_INIT](target, receiver) {\r\n    if (!(\"$oninit\" in target)) return;\r\n    return await Reflect.apply(target[\"$oninit\"], receiver, []);\r\n  }\r\n\r\n  [_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_WRITE](prop, indexes, target, receiver) {\r\n    if (\"$onwrite\" in target) {\r\n      const process = new _thread_Processor_js__WEBPACK_IMPORTED_MODULE_5__.ProcessData(target[\"$onwrite\"], receiver, [ prop, indexes ]);\r\n      _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].current.addProcess(process);\r\n      // await Reflect.apply(target[\"$onwrite\"], receiver, [ prop, indexes ]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {ViewModel} target \r\n   * @param {PropertyInfo} prop \r\n   * @param {Proxy<ViewModel>} receiver \r\n   */\r\n  #getDefinedPropertyValue(target, prop, receiver) {\r\n    const { lastIndexes, cache } = this;\r\n    const indexes = lastIndexes.slice(0, prop.loopLevel);\r\n    const cacheValue = cache.get(prop, indexes);\r\n    if (typeof cacheValue !== \"undefined\") return cacheValue;\r\n    const value = Reflect.get(target, prop.name, receiver);\r\n    cache.set(prop, indexes, value);\r\n    return value;\r\n  }\r\n\r\n  [_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_GET](prop, indexes, target, receiver) {\r\n    let value;\r\n    this.stackIndexes.push(indexes);\r\n    try {\r\n      value = receiver[prop];\r\n    } finally {\r\n      this.stackIndexes.pop();\r\n    }\r\n    return value;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {ViewModel} target \r\n   * @param {PropertyInfo} prop \r\n   * @param {any} value \r\n   * @param {Proxy<ViewModel>} receiver \r\n   */\r\n  #setDefinedPropertyValue(target, prop, value, receiver) {\r\n    const { lastIndexes, cache } = this;\r\n    const indexes = lastIndexes.slice(0, prop.loopLevel);\r\n    Reflect.set(target, prop.name, value, receiver);\r\n    cache.delete(prop, indexes);\r\n    cache.set(prop, indexes, value);\r\n\r\n    _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].current.addNotify(new _thread_Notifier_js__WEBPACK_IMPORTED_MODULE_7__.NotifyData(this.component, prop.name, indexes));\r\n    if (this.dependentMap.has(prop.name)) {\r\n      const getDependentProps = (name) => \r\n        (this.dependentMap.get(name) ?? []).flatMap(name => [name].concat(getDependentProps(name)));\r\n      const dependentProps = new Set(getDependentProps(prop.name));\r\n      dependentProps.forEach(dependentProp => {\r\n        const definedProperty = this.definedPropertyByProp.get(dependentProp);\r\n        if (indexes.length < definedProperty.loopLevel) {\r\n          const listOfIndexes = definedProperty.expand(receiver, indexes);\r\n          listOfIndexes.forEach(depIndexes => {\r\n            cache.delete(definedProperty, depIndexes);\r\n            _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].current.addNotify(new _thread_Notifier_js__WEBPACK_IMPORTED_MODULE_7__.NotifyData(this.component, definedProperty.name, depIndexes));\r\n          });\r\n        } else {\r\n          const depIndexes = indexes.slice(0, definedProperty.loopLevel);\r\n          cache.delete(definedProperty, depIndexes);\r\n          _thread_Thread_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].current.addNotify(new _thread_Notifier_js__WEBPACK_IMPORTED_MODULE_7__.NotifyData(this.component, definedProperty.name, depIndexes));\r\n        }\r\n      });\r\n    }\r\n\r\n    this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_WRITE](prop.name, lastIndexes, target, receiver);\r\n\r\n    return true;\r\n  }\r\n\r\n  [_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_SET](prop, indexes, value, target, receiver) {\r\n    this.stackIndexes.push(indexes);\r\n    try {\r\n      receiver[prop] = value;\r\n    } finally {\r\n      this.stackIndexes.pop();\r\n    }\r\n    return true;\r\n  }\r\n\r\n  async [_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_CALL](prop, indexes, event, target, receiver) {\r\n    this.stackIndexes.push(indexes);\r\n    try {\r\n      await Reflect.apply(target[prop], receiver, [event, ...indexes]);\r\n    } finally {\r\n      this.stackIndexes.pop();\r\n    }\r\n  }\r\n\r\n  [_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_CLEAR_CACHE](target, receiver) {\r\n    this.cache.clear();\r\n  }\r\n  /**\r\n   * \r\n   * @param {ViewModel} target \r\n   * @param {string} prop \r\n   * @param {Proxy<ViewModel>} receiver \r\n   * @returns \r\n   */\r\n  get(target, prop, receiver) {\r\n    const lastIndexes = this.lastIndexes;\r\n    if (typeof prop === \"symbol\") {\r\n      switch(prop) {\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_GET:\r\n          return (prop, indexes) => \r\n            Reflect.apply(this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_GET], this, [prop, indexes, target, receiver]);\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_SET:\r\n          return (prop, indexes, value) => \r\n            Reflect.apply(this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_SET], this, [prop, indexes, value, target, receiver]);\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_GET_INDEXES:\r\n          return lastIndexes;\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_CALL:\r\n          return (prop, indexes, event) => \r\n            Reflect.apply(this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_CALL], this, [prop, indexes, event, target, receiver]);\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_INIT:\r\n          return () => \r\n            Reflect.apply(this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_INIT], this, [target, receiver]);\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_WRITE:\r\n          return (prop, indexes) => \r\n            Reflect.apply(this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_WRITE], this, [prop, indexes, target, receiver]);\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_CLEAR_CACHE:\r\n          return () => \r\n            Reflect.apply(this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_CLEAR_CACHE], this, [target, receiver]);\r\n        case _Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_GET_TARGET:\r\n          return target;\r\n      }\r\n    }\r\n    if (CONTEXT_INDEXES.has(prop)) {\r\n      return lastIndexes[parseInt(prop.slice(1)) - 1];\r\n    }\r\n\r\n    const defindedProperty = this.definedPropertyByProp.get(prop);\r\n    if (defindedProperty) {\r\n      // すでに、indexesはセットされている\r\n      return this.#getDefinedPropertyValue(target, defindedProperty, receiver);\r\n    } else {\r\n      if (prop[0] !== \"_\") {\r\n        let { loopProperty, indexes } = this.propertyInfoIndexesByProp.get(prop) ?? {};\r\n        if (loopProperty == null) {\r\n          let result;\r\n          loopProperty = this.loopProperties.find(property => result = property.regexp.exec(prop));\r\n          indexes = result.slice(1);\r\n          this.propertyInfoIndexesByProp.set(prop, { loopProperty, indexes });\r\n        }\r\n        if (loopProperty && indexes) {\r\n          return this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_GET](loopProperty.name, indexes, target, receiver);\r\n        }\r\n      }\r\n      return Reflect.get(target, prop, receiver);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {ViewModel} target \r\n   * @param {string} prop \r\n   * @param {any} value \r\n   * @param {Proxy<ViewModel>} receiver \r\n   */\r\n  set(target, prop, value, receiver) {\r\n    const defindedProperty = this.definedPropertyByProp.get(prop);\r\n    if (defindedProperty) {\r\n      return this.#setDefinedPropertyValue(target, defindedProperty, value, receiver);\r\n    } else {\r\n      if (prop[0] !== \"_\") {\r\n        let { loopProperty, indexes } = this.propertyInfoIndexesByProp.get(prop) ?? {};\r\n        if (loopProperty == null) {\r\n          let result;\r\n          loopProperty = this.loopProperties.find(property => result = property.regexp.exec(prop));\r\n          indexes = result.slice(1);\r\n          this.propertyInfoIndexesByProp.set(prop, { loopProperty, indexes });\r\n        }\r\n        if (loopProperty && indexes) {\r\n          this[_Symbols_js__WEBPACK_IMPORTED_MODULE_1__.SYM_CALL_DIRECT_SET](loopProperty.name, indexes, value, target, receiver);\r\n          return true;\r\n        }\r\n      }\r\n      Reflect.set(target, prop, value, receiver);\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param {Component} component\r\n * @param {ViewModel} origViewModel \r\n * @returns {Proxy<ViewModel>}\r\n */\r\nfunction create(component, origViewModel) {\r\n  const { viewModel, definedProperties, dependentMap } = _Accessor_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].convert(component, origViewModel);\r\n  return new Proxy(viewModel, new Handler(component, definedProperties, dependentMap));\r\n\r\n}\n\n//# sourceURL=webpack://quel/./src/viewModel/Proxy.js?");

/***/ }),

/***/ "./src/viewModel/Symbols.js":
/*!**********************************!*\
  !*** ./src/viewModel/Symbols.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SYM_CALL_CLEAR_CACHE\": () => (/* binding */ SYM_CALL_CLEAR_CACHE),\n/* harmony export */   \"SYM_CALL_DIRECT_CALL\": () => (/* binding */ SYM_CALL_DIRECT_CALL),\n/* harmony export */   \"SYM_CALL_DIRECT_GET\": () => (/* binding */ SYM_CALL_DIRECT_GET),\n/* harmony export */   \"SYM_CALL_DIRECT_SET\": () => (/* binding */ SYM_CALL_DIRECT_SET),\n/* harmony export */   \"SYM_CALL_INIT\": () => (/* binding */ SYM_CALL_INIT),\n/* harmony export */   \"SYM_CALL_WRITE\": () => (/* binding */ SYM_CALL_WRITE),\n/* harmony export */   \"SYM_GET_INDEXES\": () => (/* binding */ SYM_GET_INDEXES),\n/* harmony export */   \"SYM_GET_TARGET\": () => (/* binding */ SYM_GET_TARGET)\n/* harmony export */ });\n/* harmony import */ var _myname_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../myname.js */ \"./src/myname.js\");\n\r\n\r\nconst SYM_GET_INDEXES = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.indexes`);\r\nconst SYM_GET_TARGET = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.target`);\r\nconst SYM_CALL_DIRECT_GET = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.directGet`);\r\nconst SYM_CALL_DIRECT_SET = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.directSet`);\r\nconst SYM_CALL_DIRECT_CALL = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.directCall`);\r\nconst SYM_CALL_INIT = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.init`);\r\nconst SYM_CALL_WRITE = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.write`);\r\nconst SYM_CALL_CLEAR_CACHE = Symbol.for(`${_myname_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]}:viewModel.clearCache`);\r\n\n\n//# sourceURL=webpack://quel/./src/viewModel/Symbols.js?");

/***/ }),

/***/ "./src/view/View.js":
/*!**************************!*\
  !*** ./src/view/View.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ View)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./src/types.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _bind_Binder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bind/Binder.js */ \"./src/bind/Binder.js\");\n/* harmony import */ var _bind_Binds_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../bind/Binds.js */ \"./src/bind/Binds.js\");\n\r\n\r\n\r\n\r\nclass View {\r\n  /**\r\n   * @type {HTMLTemplateElement}\r\n   */\r\n  template;\r\n  /**\r\n   * @type {HTMLElement}\r\n   */\r\n  rootElement;\r\n\r\n  /**\r\n   * \r\n   * @param {HTMLTemplateElement} template \r\n   * @param {HTMLElement} rootElement \r\n   */\r\n  constructor(template, rootElement) {\r\n    this.template = template;\r\n    this.rootElement = rootElement;\r\n  }\r\n\r\n  /**\r\n   * @param {ViewModel} viewModel\r\n   * @returns {Binds}\r\n   */\r\n  render(viewModel) {\r\n    const content = document.importNode(this.template.content, true); // See http://var.blog.jp/archives/76177033.html\r\n    const binds = new _bind_Binds_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_bind_Binder_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(this.template, content, viewModel));\r\n    this.rootElement.appendChild(content);\r\n    return binds;\r\n  }\r\n\r\n}\n\n//# sourceURL=webpack://quel/./src/view/View.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/export.js");
/******/ 	
/******/ })()
;